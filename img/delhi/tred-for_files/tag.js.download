!function(){var t={exports:{}};t.exports,t.exports=function(i){if(i._CTZG&&i._CTZG.bootloader)return null;var s=i._CTZG||{};function u(t,e,o){var n=t;if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))throw new Error("invalid path argument");for(var r=0;r<e.length;r++){if(e.length-r==1&&void 0!==n[e[r]])return n[e[r]];if("object"!=typeof n[e[r]])break;n=n[e[r]]}return o}function a(t){switch(typeof t){case"string":return{true:!0,false:!1}[t];case"boolean":return t;default:return Boolean(t)}}function l(){s.isDebugMode&&console.log.apply(null,["[Bootloader]"].concat(arguments))}function d(){s.isDebugMode&&console.error.apply(null,["[Bootloader]"].concat(arguments))}function c(t){t=i.document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return t?t.pop():void 0}function p(t,e){s.bootloader[t]=e}function o(t){return s.bootloader[t]}function n(t,e,o,n){var r=new(i.XMLHttpRequest||i.ActiveXObject)("MSXML2.XMLHTTP.3.0");r.withCredentials=e.withCredentials,r.onload=function(){var t=r.response;"json"===e.responseType&&(t=i.JSON.parse(r.response)),o(t)},r.open(t,e.url,1),r.onreadystatechange=function(){4===r.readyState&&200!==r.status&&n&&n()},r.send(e.payload)}function t(){var t=u(i,"_CTZ.consent",null)||u(i,"_CTZS.consent",null),e=!0;return e=t?Object.prototype.hasOwnProperty.call(t,"allowed")?a(t.allowed):(l("[CTZ] Consent object present but missing properties :: defaulting to false"),!1):e}function e(){return[i.document.querySelectorAll("script[src*='//static.clicktripz.com/tag.js']"),i.document.querySelectorAll("script[src*='//compare-static'][src*='/tag.js']"),i.document.querySelectorAll("script[src*='//localhost:8089/tag.js']"),i.document.querySelectorAll("script[src*='//static.clicktripz.com/r/ucb.js']"),i.document.querySelectorAll("script[src*='//compare-static'][src*='/ucb.js']"),i.document.querySelectorAll("script[src*='//localhost:8088/r/ucb.js']"),i.document.querySelectorAll("script[src*='//localhost:8089/r/ucb.js']"),i.document.querySelectorAll("script[src*='//localhost:8089/r/ucb.src.js']")].reduce(function(t,e){if(e.length<1)return t;for(var o=[],n=0;n<e.length;n++)(e[n].getAttribute("data-alias")||e[n].getAttribute("data-publisher"))&&o.push(e[n]);return o.length<1||t.push(o[0]),t},[])[0]}function r(t){var e=t.src.match("^https?://([^/]+)/.*$"),e=e?e[1]:"static.clicktripz.com",e=/compare-static/.test(e)?e.replace("compare-static","compare"):"www.clicktripz.com";return{hostName:e,publisherAlias:t.getAttribute("data-alias")||null,publisherHash:t.getAttribute("data-publisher")||null,fpcsEnabled:!/clicktripz\.com/.test(e)}}function f(t,e){var o=t.fpcsEnabled&&!e,n=c("_ctpuid"),r="https://"+t.hostName+"/api/integrations/v1/constrain",e="?";if(null!==t.publisherAlias)e+="publisherAlias="+t.publisherAlias;else{if(null===t.publisherHash)return void d(new Error("Unable to determine constrainURL :: no publisher identifier"));e+="h="+t.publisherHash}if(void 0!==n&&(e+="&cpid="+n),o){s.bootloader.useFPCSCookieSync=!0;o=r+e;return o+="&u="+i.location.href,"https://www.clicktripz.com/api/integrations/v1/constrain"+e+"&r="+encodeURIComponent(o)}return r+e+"&u="+i.location.href}function m(t,e,o){n("GET",{url:t,responseType:"json",withCredentials:!0},e,o)}function h(e,o){var t,n;t=function(){var t=f(e,!1);p("adblockIsEnabled",!1),m(t,function(t){o(t)})},n=function(){var t=f(e,!0);p("adblockIsEnabled",!0),m(t,function(t){o(t)})},m("https://www.clicktripz.com/api/integrations/v1/constrain",t,n)}function b(t,e){m(f(t),function(t){e(t)})}function g(t,e){t.fpcsEnabled?h(t,function(t){e(t)}):b(t,function(t){e(t)})}function C(t,e){n("POST",{url:"https://"+t.hostName+"/n2/c/v0/a/"+(u(o("constrain"),"data.PublisherMetadataModule.publisherAlias",!1)||t.publisherAlias||t.publisherHash),responseType:"json",withCredentials:!0,payload:JSON.stringify({ClientContext:{userAgent:i.navigator.userAgent,locationPath:i.location.pathname,locationSearch:i.location.search,documentCookie:i.document.cookie},protocol:"1"})},function(t){!t.bootloader&&t.Bootloader&&(t.bootloader=t.Bootloader),e(t)},function(){d("[CTZ] boot sequence terminated: ICC request failure")})}function v(t){return u(t,["data","userOptedOut"],!1)}(i._CTZG=s).bootloader=s.bootloader||{},s.bootloader.version=s.bootloader.version||"72de2fb280c04d5d6bc5ffd12d378fdabb1ebf954b3e5d474ee490f0b5f014ae",s.isDebugMode=/CTI_FORCE_DEBUG=1/.test(i.document.cookie),i.CTI_FORCE_DEBUG=function(t){i.document.cookie="CTI_FORCE_DEBUG="+(t?"1":"0"),i.location.reload()},i.CTZ_BAC_FORCE_SESSION_CONFIG=function(t){i.document.cookie="CTZ_BAC_FORCE_SESSION_CONFIG="+t,i.location.reload()},i.CTZ_FORCE_WIDGET=function(t){var e=(e=c("CTZ_FORCE_WIDGET")||"").length?e+","+t:t;i.document.cookie="CTZ_FORCE_WIDGET="+e,i.location.reload()};var E,y=(E=!1,function(){if(!E){E=!0;var t=o("icc");if(u(t,["bootloader","assessment"],!1))return l("scripts.main not loaded due to assessment: true");var e=u(t,["bootloader","scripts","main"],["cs"]);e&&!Array.isArray(e)&&(e=[e]),c("CTZ_FORCE_WIDGET")&&u(t,["widget_container"],!1)&&e.push("widget_container"),e.forEach(function(t){k(t,function(t){t&&t.init&&t.init(s)})})}});function T(r){function c(t){y(),t.currentTarget.removeEventListener(t.type,c)}r&&(r.interactionElements||[]).forEach(function(t){var e,o,n=i.document.querySelector(t);a(n)?(e=n,n=r.interactionEvents,o=c,n.forEach(function(t){e.addEventListener(t,o)})):d("Element: "+t+" not found for ensureLoadForInteractionEvents.")})}function _(t){var e=t.loadOnAny,t=e.filter(function(t){return"number"==typeof t.timeout}),e=e.filter(function(t){return t.interactionElements&&0<t.interactionElements.length&&t.interactionEvents&&0<t.interactionEvents.length});t.length||e.length?(T(e[0]),(t=t[0])&&setTimeout(function(){y()},t.timeout||0)):y()}function w(t,e){var n=u(e,"icc.bootloader.scripts.bundles",[]),r=function(e){return u((o=n,Object.keys(o).map(function(t){return[t,o[t]]}).filter(function(t){return t[1].some(function(t){return t==e})})),[0,0]);var o},o=u(e,"icc.bootloader.scripts.mappings",{}),c=u(e,"icc.bootloader.scripts.bundleMappings",{});function i(t){return u(o,t,u(c,[t,"version"]))}var t=!i(a=function t(e){var o=r(e);return o?t(o):e}(t))||s.isDebugMode?t:a,a=i(t);return/^https?:\/\/.*/.test(a)?a:"https://"+u(e,"hostnames.static")+"/asset/"+t+"/"+a+".js"}var O,A,k=function(e,t){if(!t)return d("[CTZ] Module '"+e+"' not loaded. Provide callback to load async from mappings.");try{var o=w(e,s.bootloader);if(!o)throw new Error('No asset found for require("'+e+'")');var n=i.document.createElement("script");n.src=o,n.setAttribute("data-ctz-script-type",e),n.type="text/javascript",n.async=!0,n.onload=function(){try{t(i._ctrequire(e)),l("[CTZ] Successfully loaded module :: "+e)}catch(t){d("[CTZ] Exception thrown from running '"+e+"' module.",t)}},(i.document.body||i.document.getElementsByTagName("head")[0]).appendChild(n)}catch(t){d("[CTZ] Unable to load module :: "+e+" :: "+t)}};function S(t,e){return k(t,e)}function q(){if(!t())return l("boot sequence terminated: consent.allowed != true");var c=r(e());p("tagData",c),g(c,function(t){var e,o,n,r;p("constrain",t),n=u(e=t,"data.dmn"),r=u(e,"data.cpid"),(e=/(_ctpuid.*?);/.exec(i.document.cookie))&&1<e.length&&(o=e[1].split("=")[1]),n&&r!==o&&(i.document.cookie="_ctpuid="+r+';expires="Fri, 31 Dec 9999 23:59:59 GMT;domain='+n+";path=/;"),v(t)?l("boot sequence terminated: userOptedOut != false"):C(c,function(t){p("icc",t),p("ensureModule",S);var e=t.bootloader;if(!e)return l("boot sequence terminated: no Bootloader config found"),0;t=c.fpcsEnabled?{www:c.hostName,static:c.hostName.replace("compare","compare-static"),images:c.hostName.replace("compare","compare-images")}:{www:"www.clicktripz.com",static:"static.clicktripz.com",images:"images.clicktripz.com"};p("hostnames",e.fpcsHostnames||t),_(e)})})}i._ctrequire=k;try{i._CTZ_RELOAD=(O=t(),A=!1,function(){try{O||A||t()&&(q(),A=!0)}catch(t){d(t)}})}catch(t){d(t)}return{_get:u,coerceBoolean:a,consoleLog:l,consoleError:d,getCookieVal:c,setGlobal:p,getGlobal:o,request:n,ensureUserConsent:t,getTag:e,getTagData:r,determineConstrainUrl:f,callConstrain:m,callConstrainWithCookieSync:h,callConstrainWithoutCookieSync:b,ensureConstrains:g,callIcc:C,userOptedOut:v,loadMainOnce:y,ensureLoadForInteractionEvents:T,ensureLoadForConfiguration:_,ensureModule:S,getUrlForAssetName:w,boot:q}},t.exports(window).boot()}();